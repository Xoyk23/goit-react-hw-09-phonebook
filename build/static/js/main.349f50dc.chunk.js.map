{"version":3,"sources":["Components/AppBar/AppBar.module.css","Components/AuthMenu/AuthMenu.module.css","Components/UserMenu/UserMenu.module.css","redux/auth/auth-operations.js","redux/auth/auth-actions.js","Components/Container/Container.module.css","redux/filter/filter-actions.js","redux/contactsItems/contacts-actions.js","redux/middleware.js","redux/contactsItems/contacts-reducer.js","redux/filter/filter-reducer.js","redux/auth/auth-persist-config.js","redux/auth/auth-selectors.js","redux/auth/auth-reducer.js","redux/store.js","routes.js","Components/PrivateRoute/PrivateRoute.js","Components/PublicRoute/PublicRoute.js","Components/UserMenu/defaultAvatar.png","Components/UserMenu/UserMenu.jsx","Components/AuthMenu/AuthMenu.jsx","Components/AppBar/AppBar.jsx","Components/Container/Container.jsx","App.js","index.js"],"names":["module","exports","axios","defaults","baseURL","token","headers","common","registerUser","credentials","dispatch","a","registerRequest","post","data","registerSuccess","registerError","message","loginUser","user","loginRequest","loginSuccess","loginError","logOutUser","logoutRequest","logoutSuccess","logoutError","getCurrentUser","getState","persistedToken","auth","getCurrentUserRequest","get","getCurrentUserSuccess","getCurrentUserError","createAction","changeFilter","fetchContactRequest","fetchContactSucces","fetchContactError","addContactRequest","addContactSucces","addContactError","deleteContactRequest","deleteContactSucces","deleteContactError","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","contactsReducer","createReducer","_","payload","state","filter","contact","id","error","filterReducer","authPersistConfig","key","storage","whitelist","getIsAuthenticated","isAuthenticated","getUserName","name","initialUserState","email","pasword","loading","errorFunc","combineReducers","reducer","persistReducer","authReducer","contacts","store","configureStore","devTools","process","persistor","persistStore","routes","home","register","login","PrivateRoute","Component","component","redirectTo","routeProps","isAuthorized","useSelector","render","props","to","PublicRoute","restricted","UserMenu","useDispatch","onLogout","useCallback","className","styles","container","avatar","src","defaultAvatar","alt","width","height","userName","type","onClick","button","AuthMenu","link","activeClassName","active","exact","AppBar","header","nav","list","item","Container","children","MainCont","HomePage","lazy","UserPage","LoginPage","RegisterPage","App","useEffect","fallback","path","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.349f50dc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppBar_header__2xAWr\",\"nav\":\"AppBar_nav__1GWrF\",\"list\":\"AppBar_list__1D7Ni\",\"link\":\"AppBar_link__277ro\",\"active\":\"AppBar_active__1r1uv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthMenu_link__AAjui\",\"active\":\"AuthMenu_active__100Ru\",\"container\":\"AuthMenu_container__2M4gL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__23i39\",\"button\":\"UserMenu_button__s3iol\",\"userName\":\"UserMenu_userName__1AoXh\",\"avatar\":\"UserMenu_avatar__2wSEm\"};","import axios from 'axios';\r\nimport {\r\n  registerRequest,\r\n  registerSuccess,\r\n  registerError,\r\n  loginRequest,\r\n  loginSuccess,\r\n  loginError,\r\n  logoutRequest,\r\n  logoutSuccess,\r\n  logoutError,\r\n  getCurrentUserRequest,\r\n  getCurrentUserSuccess,\r\n  getCurrentUserError,\r\n} from './auth-actions';\r\n\r\naxios.defaults.baseURL = 'https://goit-phonebook-api.herokuapp.com';\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common['Authorization'] = `${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common['Authorization'] = '';\r\n  },\r\n};\r\n\r\nconst registerUser = credentials => async dispatch => {\r\n  dispatch(registerRequest());\r\n  try {\r\n    const { data } = await axios.post('./users/signup', credentials);\r\n    token.set(data.token);\r\n    dispatch(registerSuccess(data));\r\n  } catch (error) {\r\n    dispatch(registerError(error.message));\r\n  }\r\n};\r\n\r\nconst loginUser = user => async dispatch => {\r\n  dispatch(loginRequest());\r\n  try {\r\n    const { data } = await axios.post('/users/login', user);\r\n    token.set(data.token);\r\n    dispatch(loginSuccess(data));\r\n  } catch (error) {\r\n    dispatch(loginError(error.message));\r\n  }\r\n};\r\n\r\nconst logOutUser = () => async dispatch => {\r\n  dispatch(logoutRequest());\r\n  try {\r\n    await axios.post('/users/logout');\r\n    token.unset();\r\n    dispatch(logoutSuccess());\r\n  } catch (error) {\r\n    dispatch(logoutError(error.message));\r\n  }\r\n};\r\n\r\nconst getCurrentUser = () => async (dispatch, getState) => {\r\n  const {\r\n    auth: { token: persistedToken },\r\n  } = getState();\r\n\r\n  if (!persistedToken) return;\r\n\r\n  token.set(persistedToken);\r\n  dispatch(getCurrentUserRequest());\r\n\r\n  try {\r\n    const { data } = await axios.get('/users/current');\r\n    dispatch(getCurrentUserSuccess(data));\r\n\r\n    return data;\r\n  } catch (error) {\r\n    dispatch(getCurrentUserError(error.message));\r\n  }\r\n};\r\n\r\nexport { registerUser, loginUser, logOutUser, getCurrentUser };\r\n","import { createAction } from '@reduxjs/toolkit';\r\n\r\nconst registerRequest = createAction('auth/registerRequest');\r\nconst registerSuccess = createAction('auth/registerSuccess');\r\nconst registerError = createAction('auth/registerError');\r\n\r\nconst loginRequest = createAction('auth/loginRequest');\r\nconst loginSuccess = createAction('auth/loginSuccess');\r\nconst loginError = createAction('auth/loginError');\r\n\r\nconst logoutRequest = createAction('auth/logoutRequest');\r\nconst logoutSuccess = createAction('auth/logoutSuccess');\r\nconst logoutError = createAction('auth/logoutError');\r\n\r\nconst getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\r\nconst getCurrentUserSuccess = createAction('auth/getCurrentUserSuccess');\r\nconst getCurrentUserError = createAction('auth/getCurrentUserError');\r\n\r\nexport {\r\n  registerRequest,\r\n  registerSuccess,\r\n  registerError,\r\n  loginRequest,\r\n  loginSuccess,\r\n  loginError,\r\n  logoutRequest,\r\n  logoutSuccess,\r\n  logoutError,\r\n  getCurrentUserRequest,\r\n  getCurrentUserSuccess,\r\n  getCurrentUserError,\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__3VldL\",\"MainCont\":\"Container_MainCont__1fXyx\"};","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const changeFilter = createAction('filter/changed');\r\n","import { createAction } from '@reduxjs/toolkit';\r\n\r\nconst fetchContactRequest = createAction('contacts/fetchRequest');\r\nconst fetchContactSucces = createAction('contacts/fetchSucces');\r\nconst fetchContactError = createAction('contacts/fetchError');\r\n\r\nconst addContactRequest = createAction('contacts/createRequest');\r\nconst addContactSucces = createAction('contacts/createSucces');\r\nconst addContactError = createAction('contacts/createError');\r\n\r\nconst deleteContactRequest = createAction('contacts/deleteRequest');\r\nconst deleteContactSucces = createAction('contacts/deleteSucces');\r\nconst deleteContactError = createAction('contacts/deleteError');\r\n\r\nexport {\r\n  fetchContactRequest,\r\n  fetchContactSucces,\r\n  fetchContactError,\r\n  addContactRequest,\r\n  addContactSucces,\r\n  addContactError,\r\n  deleteContactRequest,\r\n  deleteContactSucces,\r\n  deleteContactError,\r\n};\r\n","import { getDefaultMiddleware } from '@reduxjs/toolkit';\r\n\r\nimport logger from 'redux-logger';\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n  logger,\r\n];\r\n\r\nexport { middleware, persistStore, persistReducer };\r\n","import { createReducer } from '@reduxjs/toolkit';\r\nimport {\r\n  fetchContactRequest,\r\n  fetchContactSucces,\r\n  fetchContactError,\r\n  addContactRequest,\r\n  addContactSucces,\r\n  addContactError,\r\n  deleteContactRequest,\r\n  deleteContactSucces,\r\n  deleteContactError,\r\n} from './contacts-actions';\r\n\r\nconst contactsReducer = createReducer([], {\r\n  [fetchContactSucces]: (_, { payload }) => [...payload],\r\n  [addContactSucces]: (state, { payload }) => [...state, payload],\r\n  [deleteContactSucces]: (state, { payload }) => [\r\n    ...state.filter(contact => contact.id !== payload),\r\n  ],\r\n});\r\n\r\nconst loadingReducer = createReducer(false, {\r\n  [fetchContactRequest]: () => true,\r\n  [fetchContactSucces]: () => false,\r\n  [fetchContactError]: () => false,\r\n  [addContactRequest]: () => true,\r\n  [addContactSucces]: () => false,\r\n  [addContactError]: () => false,\r\n  [deleteContactRequest]: () => true,\r\n  [deleteContactSucces]: () => false,\r\n  [deleteContactError]: () => false,\r\n});\r\n\r\nconst errorReducer = createReducer(null, {\r\n  [fetchContactError]: error => error,\r\n  [addContactError]: error => error,\r\n  [deleteContactError]: error => error,\r\n});\r\n\r\nexport { contactsReducer, loadingReducer, errorReducer };\r\n","import { createReducer } from '@reduxjs/toolkit';\r\nimport { changeFilter } from './filter-actions';\r\n\r\nexport const filterReducer = createReducer('', {\r\n  [changeFilter]: (_, { payload }) => payload,\r\n});\r\n","import storage from 'redux-persist/lib/storage';\r\n\r\n// Cохраняет токен в локал сторедж\r\n\r\nconst authPersistConfig = {\r\n  key: 'token',\r\n  storage,\r\n  whitelist: ['token'],\r\n};\r\n\r\nexport default authPersistConfig;\r\n","const getIsAuthenticated = state => state.auth.isAuthenticated;\r\n\r\n// const getIsAuthenticated = state => state.auth.token;\r\n\r\nconst getUserName = state => state.auth.user.name;\r\nconst getToken = state => state.auth.token;\r\n\r\nexport { getIsAuthenticated, getUserName, getToken };\r\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\n\r\nimport {\r\n  registerRequest,\r\n  registerSuccess,\r\n  registerError,\r\n  loginRequest,\r\n  loginSuccess,\r\n  loginError,\r\n  logoutRequest,\r\n  logoutSuccess,\r\n  logoutError,\r\n  getCurrentUserRequest,\r\n  getCurrentUserSuccess,\r\n  getCurrentUserError,\r\n} from './auth-actions';\r\n\r\nimport { getIsAuthenticated } from './auth-selectors';\r\n\r\nconst initialUserState = { name: null, email: null, pasword: null };\r\n\r\nconst user = createReducer(initialUserState, {\r\n  [registerSuccess]: (_, { payload }) => payload.user,\r\n  [loginSuccess]: (_, { payload }) => payload.user,\r\n  [logoutSuccess]: () => initialUserState,\r\n  [logoutError]: () => initialUserState,\r\n  [getCurrentUserSuccess]: (_, { payload }) => payload,\r\n});\r\nconst token = createReducer(null, {\r\n  [registerSuccess]: (_, { payload }) => payload.token,\r\n  [loginSuccess]: (_, { payload }) => payload.token,\r\n  [logoutSuccess]: () => null,\r\n});\r\n\r\nconst isAuthenticated = createReducer(false, {\r\n  [registerSuccess]: () => true,\r\n  [registerError]: () => false,\r\n  [loginSuccess]: () => true,\r\n  [loginError]: () => false,\r\n  [getCurrentUserSuccess]: () => true,\r\n  [getCurrentUserError]: () => false,\r\n  [logoutSuccess]: () => false,\r\n});\r\n\r\nconst loading = createReducer(false, {\r\n  [registerRequest]: () => true,\r\n  [registerSuccess]: () => false,\r\n  [registerError]: () => false,\r\n  [loginRequest]: () => true,\r\n  [loginSuccess]: () => false,\r\n  [loginError]: () => false,\r\n  [logoutRequest]: () => true,\r\n  [logoutSuccess]: () => false,\r\n  [logoutError]: () => false,\r\n  [getCurrentUserRequest]: () => true,\r\n  [getCurrentUserSuccess]: () => false,\r\n  [getCurrentUserError]: () => false,\r\n});\r\n\r\nconst errorFunc = (_, { payload }) => payload;\r\nconst error = createReducer(null, {\r\n  [registerError]: errorFunc,\r\n  [loginError]: errorFunc,\r\n  [logoutError]: errorFunc,\r\n  [getCurrentUserError]: errorFunc,\r\n});\r\n\r\nexport default combineReducers({\r\n  user,\r\n  token,\r\n  error,\r\n  isAuthenticated,\r\n  loading,\r\n});\r\n","import { configureStore } from '@reduxjs/toolkit';\r\n\r\nimport { middleware, persistStore, persistReducer } from './middleware';\r\n\r\nimport { contactsReducer } from './contactsItems/contacts-reducer';\r\n\r\nimport { filterReducer } from './filter/filter-reducer';\r\nimport authPersistConfig from './auth/auth-persist-config';\r\nimport authReducer from './auth/auth-reducer';\r\n\r\nconst reducer = {\r\n  auth: persistReducer(authPersistConfig, authReducer),\r\n  contacts: contactsReducer,\r\n  filter: filterReducer,\r\n};\r\n\r\nconst store = configureStore({\r\n  reducer,\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === 'development',\r\n});\r\n\r\nconst persistor = persistStore(store);\r\n\r\n// /* eslint import/no-anonymous-default-export: [2, {\"allowObject\": true}] */\r\nexport { store, persistor };\r\n","const routes = {\r\n  home: '/',\r\n  register: '/register',\r\n  login: '/login',\r\n  contacts: '/contacts',\r\n};\r\n\r\nexport default routes;\r\n","import { Route, Redirect } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport { getIsAuthenticated } from '../../redux/auth/auth-selectors';\r\n\r\nconst PrivateRoute = ({ component: Component, redirectTo, ...routeProps }) => {\r\n  const isAuthorized = useSelector(getIsAuthenticated);\r\n\r\n  return (\r\n    <Route\r\n      {...routeProps}\r\n      render={props =>\r\n        isAuthorized ? <Component {...props} /> : <Redirect to={redirectTo} />\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import { Route, Redirect } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport { getIsAuthenticated } from '../../redux/auth/auth-selectors';\r\n\r\nconst PublicRoute = ({ component: Component, redirectTo, ...routeProps }) => {\r\n  const isAuthorized = useSelector(getIsAuthenticated);\r\n\r\n  return (\r\n    <Route\r\n      {...routeProps}\r\n      render={props =>\r\n        isAuthorized && routeProps.restricted ? (\r\n          <Redirect to={redirectTo} />\r\n        ) : (\r\n          <Component {...props} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default PublicRoute;\r\n","export default __webpack_public_path__ + \"static/media/defaultAvatar.e77d6fc7.png\";","import React, { useCallback } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { logOutUser } from '../../redux/auth/auth-operations';\r\n\r\nimport { getUserName } from '../../redux/auth/auth-selectors';\r\n\r\nimport styles from './UserMenu.module.css';\r\n\r\nimport defaultAvatar from './defaultAvatar.png';\r\n\r\nexport default function UserMenu() {\r\n  const dispatch = useDispatch();\r\n  const name = useSelector(getUserName);\r\n  const onLogout = useCallback(() => {\r\n    dispatch(logOutUser());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <img\r\n        className={styles.avatar}\r\n        src={defaultAvatar}\r\n        alt=\"\"\r\n        width=\"32px\"\r\n        height=\"32px\"\r\n      />\r\n      <p className={styles.userName}>{name}</p>\r\n      <button type=\"button\" onClick={onLogout} className={styles.button}>\r\n        Logout\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport routes from '../../routes';\r\n\r\nimport styles from './AuthMenu.module.css';\r\n\r\nconst AuthMenu = () => {\r\n  return (\r\n    <div className={styles.container}>\r\n      <NavLink\r\n        className={styles.link}\r\n        activeClassName={styles.active}\r\n        to={routes.register}\r\n        exact\r\n      >\r\n        Register\r\n      </NavLink>\r\n      <NavLink\r\n        className={styles.link}\r\n        activeClassName={styles.active}\r\n        to={routes.login}\r\n        exact\r\n      >\r\n        Login\r\n      </NavLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AuthMenu;\r\n","import React from 'react';\r\n\r\nimport { useSelector } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport UserMenu from '../UserMenu';\r\nimport AuthMenu from '../AuthMenu';\r\n\r\nimport { getIsAuthenticated } from '../../redux/auth/auth-selectors';\r\n\r\nimport styles from './AppBar.module.css';\r\nimport routes from '../../routes';\r\n\r\nexport default function AppBar() {\r\n  const isAuthenticated = useSelector(getIsAuthenticated);\r\n\r\n  return (\r\n    <div className={styles.header}>\r\n      <nav className={styles.nav}>\r\n        <ul className={styles.list}>\r\n          <li>\r\n            <NavLink\r\n              className={styles.link}\r\n              activeClassName={styles.active}\r\n              to={routes.home}\r\n              exact\r\n            >\r\n              Home\r\n            </NavLink>\r\n          </li>\r\n          {isAuthenticated && (\r\n            <li className={styles.item}>\r\n              <NavLink\r\n                to={routes.contacts}\r\n                className={styles.link}\r\n                activeClassName={styles.active}\r\n              >\r\n                Contacts\r\n              </NavLink>\r\n            </li>\r\n          )}\r\n        </ul>\r\n        {isAuthenticated ? <UserMenu /> : <AuthMenu />}\r\n      </nav>\r\n    </div>\r\n  );\r\n}\r\n\r\n// const mapStateToProps = state => ({\r\n//   isAuthenticated: getIsAuthenticated(state),\r\n// });\r\n\r\n// export default connect(mapStateToProps)(AppBar);\r\n","import React from 'react';\r\nimport styles from './Container.module.css';\r\n\r\nconst Container = ({ children }) => (\r\n  <div className={styles.MainCont}>\r\n    <div className={styles.Container}>{children}</div>\r\n  </div>\r\n);\r\n\r\nexport default Container;\r\n","import React, { useEffect, Suspense, lazy } from 'react';\r\nimport { Switch, Redirect } from 'react-router-dom';\r\n// import { connect } from 'react-redux';\r\nimport { useDispatch } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport routes from './routes';\r\nimport { getCurrentUser } from './redux/auth/auth-operations';\r\n\r\nimport PrivateRoute from './Components/PrivateRoute';\r\nimport PublicRoute from './Components/PublicRoute';\r\nimport AppBar from './Components/AppBar';\r\nimport Container from './Components/Container';\r\n// import Loading from './Components/Loading';\r\n\r\nconst HomePage = lazy(() => import('./Pages/HomePage'));\r\nconst UserPage = lazy(() => import('./Pages/UserPage'));\r\nconst LoginPage = lazy(() => import('./Pages/LoginPage'));\r\nconst RegisterPage = lazy(() => import('./Pages/RegisterPage'));\r\n\r\nexport default function App() {\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(getCurrentUser());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <>\r\n      <AppBar />\r\n      <Container>\r\n        <Suspense fallback={<p>Грузится...</p>}>\r\n          <Switch>\r\n            <PublicRoute exact path={routes.home} component={HomePage} />\r\n            <PrivateRoute\r\n              path={routes.contacts}\r\n              component={UserPage}\r\n              redirectTo={routes.login}\r\n            />\r\n            <PublicRoute\r\n              path={routes.login}\r\n              restricted\r\n              component={LoginPage}\r\n              redirectTo={routes.contacts}\r\n            />\r\n            <PublicRoute\r\n              path={routes.register}\r\n              restricted\r\n              component={RegisterPage}\r\n              redirectTo={routes.contacts}\r\n            />\r\n            <Redirect to={routes.home} />\r\n          </Switch>\r\n        </Suspense>\r\n        {/* <Loading /> */}\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n\r\nApp.propTypes = {\r\n  getCurrentUser: PropTypes.func,\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\nimport { store, persistor } from './redux/store';\r\nimport App from './App';\r\n\r\n// import './styles/animation.css';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <PersistGate loading={null} persistor={persistor}>\r\n        <BrowserRouter>\r\n          <App />\r\n        </BrowserRouter>\r\n      </PersistGate>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}